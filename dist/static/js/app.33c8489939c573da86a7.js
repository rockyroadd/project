webpackJsonp([1],{"9M+g":function(t,e){},Jmt5:function(t,e){},NHnr:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=a("7+uW"),r={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",[e("b-navbar",{staticStyle:{color:"#fff"},attrs:{toggleable:"sm",type:"warning",variant:"warning"}},[e("b-navbar-toggle",{attrs:{target:"nav-text-collapse"}}),this._v(" "),e("b-navbar-brand",[this._v("Student Activity Calendar")])],1)],1)},staticRenderFns:[]},n=a("VU/8")(null,r,!1,null,null,null).exports,i=a("mtWM"),o=a.n(i),l={data:function(){return{form:{username:"",password:""}}},methods:{authUser:function(){var t=this;o.a.post("https://cscampproject.yuzudigital.com/login",{username:this.form.username,password:this.form.password}).then(function(e){"SUCCESS"==e.data.response_description?(t.$store.commit("setUser",e.data),t.$toast.open({message:"เข้าสู่ระบบสำเร็จ",position:"top-right",type:"success",duration:5e3,dismissible:!0})):(t.$toast.open({message:"ชื่อ/รหัสผ่าน ไม่ถูกต้อง",position:"top-right",type:"error",duration:5e3,dismissible:!0}),t.form.username="",t.form.password="")},function(e){t.$toast.open({message:"ชื่อ/รหัสผ่าน ไม่ถูกต้อง",position:"top-right",type:"error",duration:5e3,dismissible:!0}),t.form.username="",t.form.password=""})}}},c={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("b-container",{staticClass:"py-4 px-4"},[a("h4",{staticClass:"mb-3"},[t._v("ลงชื่อเข้าใช้")]),t._v(" "),a("b-form",{on:{submit:function(e){return e.preventDefault(),t.authUser(e)}}},[a("b-form-group",{attrs:{id:"input-group-1",label:"ชื่อผู้ใช้:","label-for":"username"}},[a("b-form-input",{attrs:{id:"username",type:"text",required:"",placeholder:"Username"},model:{value:t.form.username,callback:function(e){t.$set(t.form,"username",e)},expression:"form.username"}})],1),t._v(" "),a("b-form-group",{attrs:{id:"input-group-2",label:"รหัสผ่าน:","label-for":"password"}},[a("b-form-input",{attrs:{id:"password",type:"password",required:"",placeholder:"Password"},model:{value:t.form.password,callback:function(e){t.$set(t.form,"password",e)},expression:"form.password"}})],1),t._v(" "),a("b-button",{attrs:{type:"submit",variant:"dark"}},[t._v("Login")])],1)],1)},staticRenderFns:[]},u=a("VU/8")(l,c,!1,null,null,null).exports,d={methods:{userLogout:function(){this.$toast.open({message:"ออกจากระบบสำเร็จ",position:"top-right",type:"success",duration:5e3,dismissible:!0}),localStorage.removeItem("cscamp"),location.reload(),this.$router.push("calendar")}}},p={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("b-container-fluid",[a("div",{staticClass:"p-4 mb-3",staticStyle:{background:"#ffbf0085"}},[a("b-row",[a("b-col",{staticClass:"pl-2 pr-0",attrs:{md:"3"}},[a("b-icon",{staticStyle:{width:"100%"},attrs:{icon:"person-circle"}})],1),t._v(" "),"STUDENT"==t.$store.getters.user.userType?a("b-col",{staticClass:"px-2",attrs:{md:"9"}},[a("b",[t._v(t._s(t.$store.getters.user.username))]),t._v(" "),a("br"),t._v(" "),a("span",[t._v(t._s(t.$store.getters.user.firstname)+" "+t._s(t.$store.getters.user.lastname))])]):t._e(),t._v(" "),"AJ"==t.$store.getters.user.userType?a("b-col",{staticClass:"px-2",attrs:{md:"9"}},[a("b",[t._v("TEACHER")]),t._v(" "),a("br"),t._v(" "),a("b",[t._v(t._s(t.$store.getters.user.username))]),t._v(" "),a("br"),t._v(" "),a("span",[t._v(t._s(t.$store.getters.user.firstname)+" "+t._s(t.$store.getters.user.lastname))])]):t._e()],1)],1),t._v(" "),a("div",{staticClass:"mt-2 p-4"},[a("h5",{staticClass:"text-center"},[a("b",[t._v("เมนู")])]),t._v(" "),a("br"),t._v(" "),a("b-nav",{staticStyle:{color:"#000 !important"},attrs:{vertical:""}},[a("b-nav-item",{attrs:{active:"",href:"../"}},[a("b-icon",{attrs:{icon:"house-door-fill","font-scale":"1.3"}}),t._v(" หน้าหลัก")],1),t._v(" "),"STUDENT"==t.$store.getters.user.userType?a("span",[a("b-nav-item",{attrs:{href:"/activity"}},[a("b-icon",{attrs:{icon:"file-earmark","font-scale":"1.3"}}),t._v(" กิจกรรม")],1),t._v(" "),a("b-nav-item",{attrs:{href:"/printed"}},[a("b-icon",{attrs:{icon:"lightning-fill","font-scale":"1.3"}}),t._v(" พิมพ์ใบรับรอง")],1)],1):t._e(),t._v(" "),"AJ"==t.$store.getters.user.userType?a("span",[a("b-nav-item",{attrs:{href:"/approve"}},[a("b-icon",{attrs:{icon:"clock-history","font-scale":"1.3"}}),t._v(" อนุมัติใบรับรอง")],1)],1):t._e(),t._v(" "),a("b-nav-item",{on:{click:t.userLogout}},[a("b-icon",{attrs:{icon:"box-arrow-in-right","font-scale":"1.3"}}),t._v(" ออกจากระบบ")],1)],1)],1)])},staticRenderFns:[]};var m=a("VU/8")(d,p,!1,function(t){a("xXAt")},"data-v-5db3a895",null).exports,f=a("NYxO"),v=a("jcKD");s.default.use(f.a);var b=new v.a({key:"cscamp",storage:window.localStorage}),y=new f.a.Store({state:{user:{status:"INVALID",id:"",username:"",firstname:"",lastname:"",userType:""}},mutations:{setUser:function(t,e){t.user.status=e.response_description,t.user.id=e.data.result[0].id,t.user.username=e.data.result[0].username,t.user.firstname=e.data.result[0].firstname,t.user.lastname=e.data.result[0].lastname,t.user.userType=e.data.result[0].userType}},getters:{user:function(t){return t.user}},actions:{},plugins:[b.plugin]}),g={name:"App",store:y,components:{navbar:n,login:u,user:m},methods:{alert:function(){this.$bvToast.toast("Toast body content",{title:"Login Success",variant:variant,solid:!0})}}},h={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{attrs:{id:"app"}},[e("div",{staticClass:"container-fluid h-100 px-0",staticStyle:{"overflow-x":"hidden"}},[e("navbar"),this._v(" "),e("b-row",{staticClass:"m-0",staticStyle:{height:"92.5%"}},[e("b-col",{staticClass:"p-0",attrs:{md:"2"}},["SUCCESS"!=this.$store.getters.user.status?e("login"):e("user")],1),this._v(" "),e("b-col",{staticClass:"py-4 px-5",staticStyle:{background:"rgb(234, 234, 234)"},attrs:{md:"10"}},[e("router-view")],1)],1)],1)])},staticRenderFns:[]};var _=a("VU/8")(g,h,!1,function(t){a("UbCN")},null,null).exports,C=a("/ocq"),S=a("l7UG"),k=a("uJAD"),$=a("uX+s"),x={components:{FullCalendar:S.a},data:function(){return{calendarPlugins:[k.a,$.a],calendar:{eventname:"",eventdescription:"",eventdate:"2020-02-01"},event:[{title:"รับน้องภายในคณะ",date:"2020-06-15",backgroundColor:"yellow",description:"เป็นกิจกรรมปิดบ้านภายในคณะที่ให้น้องๆปี 1 มานอนที่คณะเพื่อเป็นการสร้างทำความรู้จักกับเพื่อนๆในคณะและในแต่ละสาขา ทำให้สนิทสนมกันมากขึ้นโดยที่พี่ๆภายในคณะวิทยาศาสตร์จะดูแลในด้านต่างๆของน้องๆทั้งหมด"},{title:"เน็ตเวิร์คเกมส์",start:"2020-02-08",end:"2020-02-10",backgroundColor:"yellow",description:"เป็นกิจกรรมของ สาขาวิทยาการคอมพิวเตอร์ของแต่ละมอทั่วไปเทศแล้วแต่ว่า มหาวิทยาลัยจะส่งเข้ามาร่วมแข่งขัน ใน network game มีทั้งกีฬาและเกม ที่สำคัญมีด้านการแข่งของวิชาการอีกด้วยเพื่อเป็นการสร้างสัมพันธ์สาขาเดียวกันในแต่ละมหาวิทยาลัย"},{title:"บายเนี่ย",date:"2020-04-19",backgroundColor:"yellow",description:"เป็นกิจกรรมของน้องๆปี 1-3 ที่จะจัดงานให้กับพี่ปีที่ 4 เพื่อเป็นการสร้างสัมพันธ์กัน เพราะว่าพี่ปี 4 เป็นปีสุดท้ายที่จะอยู่ใน สถาบันของเราแล้วและเป็นธรรมเนียมที่ต้องมีทุกปีจะเป็นการที่รวมตัวของพี่ปี 4 อีกด้วย"},{title:"งานแคแสด",start:"2020-02-09",end:"2020-02-11",description:"เป็นกิจกรรมกีฬาสีภายในแต่ละคณะเพื่อ เป็นการแข่งขันในด้าน กีฬาและเกม เป็นการสร้างสัมพันธ์ระหว่างคณะต่างๆภายในสถาบันเทคโนโลยีพระจอมเกล้าเจ้าคุณลาดกระบัง"},{title:"วิทยาวิทยา",date:"2020-10-21",description:"เป็นกิจกรรมกีฬาสีภายในคณะวิทยาศาสตร์ แบ่งออกเป็น 7 สี ของแต่ละสาขาในทุกๆปี จะมีกิจกรรมนี้อยู่เพื่อเป็นการทำให้รู้จักมากขึ้นระหว่างสาขาต่างๆของคณะวิทยาศาสตร์ เพื่อเป็นการทำให้แต่ละสาขาสนิทกันมากขึ้น"},{title:"แต้งพี่",date:"2020-04-22",description:"เป็นกิจกรรมภายในคณะวิทยาศาสตร์ของน้องๆปี 1-3 ของทุกสาขาที่จะจัดงานให้กับพี่ปีที่ 4 ทุกสาขาเพื่อเป็นการสร้างสัมพันธ์กัน เพราะว่าพี่ปี 4 เป็นปีสุดท้ายที่จะอยู่ใน สถาบันของเราแล้วและเป็นธรรมเนียมที่ต้องมีทุกปีจะเป็นการที่รวมตัวของพี่ปี 4 ในทุกสาขาอีกด้วย"},{title:"เปิดบ้าน",start:"2020-08-23",end:"2020-08-25",description:"เป็นกิจกรรมของคณะที่จะมีรุ่นพี่ภายในคณะเข้ามาทำกิจกรรมให้กับน้องปี 1 ที่เข้ามาใหม่ทำให้รู้จักคณะวิทยาศาสตร์ของเรามากขึ้น"},{title:"งานวันวิทยาศาสตร์",start:"2020-08-23",end:"2020-08-25",description:"เป็นกิจกรรมที่ในแต่ละสาขาเอาด้านวิชาการของแต่ละสาขามาโชว์ให้กับน้องๆนักเรียนที่เข้ามาดูภายในคณะวิทยาศาสตร์เพื่อเป็นทำให้น้องนักเรียนสนใจในแต่ละสาขาของเราอีกด้วย"},{title:"รับน้องภายในคณะ",date:"2021-08-02",description:"เป็นกิจกรรมปิดบ้านภายในคณะที่ให้น้องๆปี 1 มานอนที่คณะเพื่อเป็นการสร้างทำความรู้จักกับเพื่อนๆในคณะและในแต่ละสาขา ทำให้สนิทสนมกันมากขึ้นโดยที่พี่ๆภายในคณะวิทยาศาสตร์จะดูแลในด้านต่างๆของน้องๆทั้งหมด"}],myevent:[]}},methods:{getData:function(){var t=this;o.a.post("https://cscampproject.yuzudigital.com/getRegisActivityByUserId",{userId:this.$store.getters.user.id}).then(function(e){if("SUCCESS"==e.data.response_description)for(var a=0;a<e.data.data.result.length;a++)t.myevent.push(e.data.data.result[a].activityName)},function(t){console.log(t)})},regisActivity:function(t){var e=this;this.myevent.includes(this.calendar.eventname)?console.log("Include"):(console.log("Exclude"),o.a.post("https://cscampproject.yuzudigital.com/regisActivity",{userId:this.$store.getters.user.id,activityName:this.calendar.eventname,activityDate:this.calendar.eventdate}).then(function(t){"SUCCESS"==t.data.response_description&&(e.getData(),e.$toast.open({message:"บันทึกข้อมูล",position:"top-right",type:"success",duration:5e3,dismissible:!0}))},function(t){console.log(t)}))},handleDateClick:function(t){this.calendar.eventname=t.event.title,this.calendar.eventdescription=t.event.extendedProps.description,this.$refs.eventpopup.show()}},mounted:function(){this.getData()}},w={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("h4",[t._v("CALENDAR")]),t._v(" "),a("p",[t._v("กิจกรรมประจำเดือน")]),t._v(" "),a("FullCalendar",{attrs:{defaultView:"dayGridMonth",plugins:t.calendarPlugins,events:this.event},on:{eventClick:t.handleDateClick}}),t._v(" "),a("b-modal",{ref:"eventpopup",attrs:{"hide-footer":"",title:this.calendar.eventname}},[a("div",{staticClass:"d-block text-center"},[a("p",[t._v(t._s(this.calendar.eventdescription))]),t._v(" "),"AJ"!=t.$store.getters.user.userType?a("span",[this.myevent.includes(this.calendar.eventname)?a("button",{staticClass:"btn btn-warning w-100 mt-3",attrs:{disabled:""}},[t._v("ลงทะเบียนร่วมงาน")]):a("button",{staticClass:"btn btn-outline-warning w-100 mt-3",on:{"~click":function(e){return t.regisActivity(t.calendar.eventname)}}},[t._v("ลงทะเบียนร่วมงาน")])]):t._e()])])],1)},staticRenderFns:[]};var A=a("VU/8")(x,w,!1,function(t){a("e5mZ")},null,null).exports,U={data:function(){return{fields:[{key:"index",label:"ลำดับ"},{key:"activity",label:"ชื่อกิจกรรม"},{key:"date",label:"วัน/เดือน/ปี"},{key:"namelist",label:"โหวตผู้เข้าร่วม"},{key:"request",label:"ยื่นใบรับรอง"}],items:[]}},mounted:function(){var t=this;o.a.post("https://cscampproject.yuzudigital.com/getRegisActivityByUserId",{userId:this.$store.getters.user.id}).then(function(e){if("SUCCESS"==e.data.response_description)for(var a=0;a<e.data.data.result.length;a++){var s={};s.activity=e.data.data.result[a].activityName,s.date=e.data.data.result[a].registerDate,s.namelist=e.data.data.result[a].userActivityId,t.items.push(s)}},function(t){console.log(t)})},beforeCreate:function(){"STUDENT"!=this.$store.getters.user.userType&&this.$router.replace({path:"/"})}},I={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("b-container",[a("h4",[a("b-icon",{attrs:{icon:"file-earmark","font-scale":"1.25"}}),t._v(" กิจกรรม | กิจกรรมที่เข้าร่วม")],1),t._v(" "),a("br"),t._v(" "),a("div",{staticStyle:{"overflow-x":"auto"}},[a("b-table",{staticClass:"text-center",staticStyle:{background:"#fff"},attrs:{striped:"",items:t.items,fields:t.fields},scopedSlots:t._u([{key:"cell(index)",fn:function(e){return[t._v("\n              "+t._s(e.index+1)+"\n          ")]}},{key:"cell(namelist)",fn:function(e){return[a("router-link",{staticClass:"btn btn-secondary btn-sm",attrs:{to:{name:"activityvote",params:{id:e.item.namelist,name:e.item.activity}}}},[t._v("\n                  รายชื่อ\n              ")])]}},{key:"cell(request)",fn:function(e){return[a("router-link",{staticClass:"btn btn-warning btn-sm",attrs:{to:{name:"request",params:{id:e.item.namelist,name:e.item.activity}}}},[t._v("\n                  ขอใบรับรอง\n              ")])]}}])})],1)])},staticRenderFns:[]},E=a("VU/8")(U,I,!1,null,null,null).exports,T={data:function(){return{fields:[{key:"index",label:"ลำดับ"},{key:"name",label:"รายชื่อ"},{key:"date",label:"วัน/เดือน/ปี"},{key:"status",label:"สถานะกิจกรรม"},{key:"vote",label:"โหวตผู้เข้าร่วม"}],items:[]}},methods:{voteName:function(t){var e=this;console.log("VOTE NAME"+t+t+this.$store.getters.user.id),o.a.post("https://cscampproject.yuzudigital.com/voteUserByUserActivityId",{userActivityId:t,userId:this.$store.getters.user.id}).then(function(t){"0001"==t.data.response_code?e.$toast.open({message:t.data.response_description,position:"top-right",type:"error",duration:5e3,dismissible:!0}):e.$toast.open({message:t.data.response_description,position:"top-right",type:"success",duration:5e3,dismissible:!0})},function(t){console.log("error")})}},mounted:function(){var t=this;o.a.post("https://cscampproject.yuzudigital.com/getUserByActivityName",{activityName:this.$route.params.name}).then(function(e){if("SUCCESS"==e.data.response_description){for(var a=0;a<e.data.data.result.length;a++){var s={};s.name=e.data.data.result[a].firstname+" "+e.data.data.result[a].lastname,s.date=e.data.data.result[a].registerDate,s.status=e.data.data.isSucceed,s.username=e.data.data.result[a].username,s.userActivityId=e.data.data.result[a].userActivityId,t.items.push(s)}console.log(t.items)}},function(t){console.log(t)})},beforeCreate:function(){"STUDENT"!=this.$store.getters.user.userType&&this.$router.replace({path:"/"})}},D={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"my-4"},[a("h4",[a("b-icon",{attrs:{icon:"file-earmark","font-scale":"1.25"}}),t._v(" กิจกรรม |\n    กิจกรรมที่เข้าร่วม\n  ")],1),t._v(" "),a("br"),t._v(" "),a("h5",[t._v("กิจกรรม : "+t._s(t.$route.params.name))]),t._v(" "),a("b-table",{staticClass:"text-center",staticStyle:{background:"#fff"},attrs:{striped:"",items:t.items,fields:t.fields},scopedSlots:t._u([{key:"cell(index)",fn:function(e){return[t._v("\n      "+t._s(e.index+1)+"\n    ")]}},{key:"cell(vote)",fn:function(e){return[e.item.username==t.$store.getters.user.username?a("button",{staticClass:"btn btn-warning btn-sm",attrs:{disabled:""}},[t._v("โหวต")]):a("button",{staticClass:"btn btn-warning btn-sm",on:{click:function(a){return t.voteName(e.item.userActivityId)}}},[t._v("\n        โหวต\n      ")])]}}])})],1)},staticRenderFns:[]},j=a("VU/8")(T,D,!1,null,null,null).exports,q={data:function(){return{request:{name:this.$store.getters.user.firstname+" "+this.$store.getters.user.lastname,major:"",faculty:""}}},methods:{requestTranscript:function(){var t=this;console.log(this.request.major),o.a.post("https://cscampproject.yuzudigital.com/requestApprove",{userId:this.$store.getters.user.id,userActivityId:this.$route.params.id,name:this.request.name,major:this.request.major,faculty:this.request.faculty}).then(function(e){"SUCCESS"==e.data.response_description&&t.$router.push({name:"calendar"})},function(t){console.log(t)})}},beforeCreate:function(){"STUDENT"!=this.$store.getters.user.userType&&this.$router.replace({path:"/"})}},N={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"my-4"},[a("h4",[a("b-icon",{attrs:{icon:"file-earmark","font-scale":"1.25"}}),t._v(" กิจกรรม | ขอใบรับรอง\n  ")],1),t._v(" "),a("br"),t._v(" "),a("b-jumbotron",[a("h5",[t._v("กิจกรรม : "+t._s(this.$route.params.name))]),t._v(" "),a("br"),t._v(" "),a("b-form",{on:{submit:function(e){return e.preventDefault(),t.requestTranscript(e)}}},[a("b-form-group",{attrs:{id:"name-group",label:"ผู้เข้าร่วม","label-for":"name"}},[a("b-form-input",{attrs:{id:"name",type:"text",required:"",placeholder:"ชื่อ-สกุล",disabled:""},model:{value:t.request.name,callback:function(e){t.$set(t.request,"name",e)},expression:"request.name"}})],1),t._v(" "),a("b-form-group",{attrs:{id:"faculty-group",label:"คณะ","label-for":"faculty"}},[a("b-form-input",{attrs:{id:"faculty",type:"text",required:"",placeholder:"คณะ"},model:{value:t.request.faculty,callback:function(e){t.$set(t.request,"faculty",e)},expression:"request.faculty"}})],1),t._v(" "),a("b-form-group",{attrs:{id:"major-group",label:"สาขา","label-for":"major"}},[a("b-form-input",{attrs:{id:"major",type:"text",required:"",placeholder:"สาขา"},model:{value:t.request.major,callback:function(e){t.$set(t.request,"major",e)},expression:"request.major"}})],1),t._v(" "),a("b-button",{attrs:{type:"submit",variant:"dark"}},[t._v("ส่งคำขอ")]),t._v(" "),a("a",{staticClass:"btn btn-secondary",attrs:{href:"../../activity"}},[t._v("กลับ")])],1)],1)],1)},staticRenderFns:[]},F=a("VU/8")(q,N,!1,null,null,null).exports,R=a("EWlk"),z=a.n(R),V=a("u1n8"),J=a.n(V);z.a.vfs=J.a.pdfMake.vfs,z.a.fonts={Sarabun:{normal:"Sarabun-Regular.ttf",bold:"Sarabun-Bold.ttf",italics:"Sarabun-Italic.ttf",bolditalics:"Sarabun-BoldItalic.ttf"}};var B={data:function(){return{fields:[{key:"index",label:"ลำดับ"},{key:"activity",label:"ชื่อกิจกรรม"},{key:"date",label:"วัน/เดือน/ปี"},{key:"status",label:"สถานะใบรับรอง"},{key:"printed",label:"พิมพ์ใบรับรอง"}],items:[],docDefinition:{pageSize:"A4",pageOrientation:"landscape",content:[{text:"CERTIFICATE OF ACHIEVEMENT",style:"header",margin:[0,70,0,15]},{text:"We officialy present",style:"subheader",margin:[0,0,0,0]},{text:"",style:"name",margin:[0,30,0,30]},{text:"with this award, for Participated",style:"subheader",margin:[0,0,0,0]},{text:"in cs camp activities",style:"subheader",margin:[0,0,0,0]},{text:"_____________________________",style:"line",margin:[0,80,0,0]},{text:"KRIDSADA BUDSARA",style:"certby",margin:[0,12,0,0]},{text:"Head of",style:"certby2",margin:[0,12,0,0]},{text:"Computer Science",style:"certby2",margin:[0,2,0,0]},{text:"Department",style:"certby2",margin:[0,2,0,0]}],defaultStyle:{font:"Sarabun"},styles:{header:{fontSize:30,bold:!0,alignment:"center"},subheader:{fontSize:16,alignment:"center"},name:{fontSize:30,color:"red",bold:!0,alignment:"center"},line:{fontSize:16,color:"red",bold:!0,alignment:"center"},certby:{fontSize:16,bold:!0,alignment:"center"},certby2:{fontSize:14,alignment:"center"}}}}},methods:{certprint:function(){console.log("Printed"),z.a.createPdf(this.docDefinition).download("cscamp-cert.pdf")}},mounted:function(){var t=this;o.a.post("https://cscampproject.yuzudigital.com/getRegisActivityByUserId",{userId:this.$store.getters.user.id}).then(function(e){if("SUCCESS"==e.data.response_description){t.docDefinition.content[2].text=t.$store.getters.user.firstname+" "+t.$store.getters.user.lastname;for(var a=0;a<e.data.data.result.length;a++){var s={};s.activity=e.data.data.result[a].activityName,s.date=e.data.data.result[a].registerDate,s.status=e.data.data.result[a].approveFlg,t.items.push(s)}}},function(t){console.log(t)})},beforeCreate:function(){"STUDENT"!=this.$store.getters.user.userType&&this.$router.replace({path:"/"})}},M={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("h4",[a("b-icon",{attrs:{icon:"lightning-fill","font-scale":"1.25"}}),t._v(" พิมพ์ใบรับรอง")],1),t._v(" "),a("br"),t._v(" "),a("b-table",{staticClass:"text-center",staticStyle:{background:"#fff"},attrs:{striped:"",items:t.items,fields:t.fields},scopedSlots:t._u([{key:"cell(index)",fn:function(e){return[t._v("\n            "+t._s(e.index+1)+"\n        ")]}},{key:"cell(status)",fn:function(e){return["0"==e.item.status?a("div",[a("span",{staticClass:"printwaiting"}),t._v(" "),a("span",[t._v("ยังไม่ยื่นขอใบรับรอง/รอตรวจสอบ")])]):t._e(),t._v(" "),"1"==e.item.status?a("div",[a("span",{staticClass:"printsuccess"}),t._v(" "),a("span",[t._v("อนุมัติ")])]):t._e(),t._v(" "),"2"==e.item.status?a("div",[a("span",{staticClass:"printreject"}),t._v(" "),a("span",[t._v("ไม่อนุมัติ")])]):t._e()]}},{key:"cell(printed)",fn:function(e){return[1==e.item.status?a("button",{staticClass:"btn btn-warning btn-sm",on:{click:t.certprint}},[t._v("พิมพ์ใบรับรอง")]):a("button",{staticClass:"btn btn-warning btn-sm",attrs:{disabled:""}},[t._v("พิมพ์ใบรับรอง")])]}}])})],1)},staticRenderFns:[]};var P=a("VU/8")(B,M,!1,function(t){a("lFO5")},null,null).exports,L={data:function(){return{fields:[{key:"index",label:"ลำดับ"},{key:"name",label:"รายชื่อ"},{key:"activity",label:"กิจกรรม"},{key:"date",label:"วัน/เดือน/ปี"},{key:"status",label:"สถานะ"},{key:"people",label:"จำนวนคนเข้าร่วม"},{key:"result",label:"ผลการโหวต"},{key:"approve",label:"อนุมัติ"},{key:"reject",label:"ปฏิเสธ"}],items:[]}},methods:{getData:function(){var t=this;o.a.post("https://cscampproject.yuzudigital.com/approveList").then(function(e){if("SUCCESS"==e.data.response_description)for(var a=[],s=0;s<e.data.data.result.length;s++){if("0"==e.data.data.result[s].approveFlg){var r={};r.name=e.data.data.result[s].firstname+" "+e.data.data.result[s].lastname,r.activity=e.data.data.result[s].activityName,r.date=e.data.data.result[s].registerDate,r.status=e.data.data.result[s].status,r.people=e.data.data.result[s].userActivityId,r.result=e.data.data.result[s].voteCount,r.userId=e.data.data.result[s].userId,r.userActivityId=e.data.data.result[s].userActivityId,r.major=e.data.data.result[s].major,r.faculty=e.data.data.result[s].faculty,r.approveId=e.data.data.result[s].approveId,r.approveFlg=e.data.data.result[s].approveFlg,a.push(r)}t.items=a}},function(t){console.log(t)})},approve:function(t,e){var a=this;o.a.post("https://cscampproject.yuzudigital.com/approveRequest",{approveId:t,approveFlg:"1",userActivityId:e}).then(function(t){"SUCCESS"==t.data.response_description&&(a.$toast.open({message:"อนุมัติสำเร็จ",position:"top-right",type:"success",duration:5e3,dismissible:!0}),a.getData())},function(t){console.log(t)})},reject:function(t,e){var a=this;o.a.post("https://cscampproject.yuzudigital.com/approveRequest",{approveId:t,approveFlg:"2",userActivityId:e}).then(function(t){"SUCCESS"==t.data.response_description&&(a.$toast.open({message:"ปฏิเสธสำเร็จ",position:"top-right",type:"error",duration:5e3,dismissible:!0}),a.getData())},function(t){console.log(t)})}},mounted:function(){this.getData()},beforeCreate:function(){"AJ"!=this.$store.getters.user.userType&&this.$router.replace({path:"/"})}},O={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return"SUCCESS"==t.$store.getters.user.status?a("div",{staticClass:"my-4"},[a("h4",[a("b-icon",{attrs:{icon:"clock-history","font-scale":"1.25"}}),t._v(" อนุมัติใบรับรอง")],1),t._v(" "),a("br"),t._v(" "),a("b-table",{staticClass:"text-center",staticStyle:{background:"#fff"},attrs:{striped:"",items:t.items,fields:t.fields},scopedSlots:t._u([{key:"cell(index)",fn:function(e){return[t._v("\n            "+t._s(e.index+1)+"\n        ")]}},{key:"cell(approve)",fn:function(e){return[a("button",{staticClass:"btn btn-success btn-sm",on:{click:function(a){return t.approve(e.item.approveId,e.item.userActivityId)}}},[t._v("อนุมัติ")])]}},{key:"cell(reject)",fn:function(e){return[a("button",{staticClass:"btn btn-danger btn-sm",on:{click:function(a){return t.reject(e.item.approveId,e.item.userActivityId)}}},[t._v("ปฏิเสธ")])]}}],null,!1,3612431032)})],1):t._e()},staticRenderFns:[]},H=a("VU/8")(L,O,!1,null,null,null).exports;s.default.use(C.a);var W=new C.a({mode:"history",routes:[{path:"/",name:"calendar",component:A},{path:"/activity",name:"activity",component:E},{path:"/activity/:id",name:"activityvote",component:j,props:!0},{path:"/activity/:id/request",name:"request",component:F,props:!0},{path:"/printed",name:"printed",component:P},{path:"/approve",name:"approve",component:H}]}),X=a("Tqaz"),G=(a("Jmt5"),a("9M+g"),a("Rf8U")),K=a.n(G),Z=a("+4za"),Y=a.n(Z);a("bmbJ");s.default.use(X.a),s.default.use(X.b),s.default.config.productionTip=!1,s.default.use(K.a,o.a),s.default.use(Y.a),new s.default({el:"#app",router:W,components:{App:_},store:y,template:"<App/>"})},UbCN:function(t,e){},bmbJ:function(t,e){},e5mZ:function(t,e){},lFO5:function(t,e){},xXAt:function(t,e){}},["NHnr"]);
//# sourceMappingURL=app.33c8489939c573da86a7.js.map